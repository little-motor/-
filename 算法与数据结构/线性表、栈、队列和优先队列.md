# 线性表、栈、队列和优先队列
## 1. 引言
为一个特定的任务选择最好的数据结构和算法是开发高性能软件的一个关键。在面向对象思想里，**一种数据结构也被认为是一个容器(container)或者容器对象(container object)  ,他是一个能存储其他对象的对象**，这里的其他对象常称为数据或者元素。
Java提供了很多能有效地组织和操作数据的数据结构。这些数据结构通常称为Java合集框架。(Java Collections Framework)。
## 2. 合集
Java合集框架支持一下两种类型的容器：
- 一种是为了存储一个元素合集，简称为合集(collection)
- 另一种是为了存储键/值对，称为映射表(map) 

本篇主要将精力放在集合上。
- Set用于存储一组不重复的元素
- List用于存储一个有序元素合集
- Stack用于存储采用后进先出方式处理的对象
- Queue用于存储采用先进先出方式处理的对象
- PriorityQueue用于存储按照优先级顺序处理的对象
![collection合集框架](https://upload-images.jianshu.io/upload_images/8521343-5c09b7f6fbd993ad.png)
> &lt;interface> java.lang.Iterable&lt;E>
```
hasNext(): boolean
next(): E
remove(): void              //移除使用next方法获取的上一个元素
```
⇧
>&lt;interfact>java.util.Collection&lt;E>
```
add(o: E): boolean                               //添加一个元素
addAll(c: Collection<? extends E>): boolean
clear(): void                                    //删除所有元素
contains(o: Object): boolean                     //判断合集是否包含元素o
remove(o: Object): boolean                       //从该合集中移除元素o
retainAll(c: Collection<? extends E>): boolean   //保留同时位于c和该合集中的元素
size(): int                                      //返回该合集中的元素数目
......
```
## 3. 迭代器
每个合集都是可迭代的(Iterable)。可以获得集合的Iterator对象来遍历集合中的所有元素。Iterator是一种经典的设计模式，用于在不需要暴露数据结构具体细节的情况下，来遍历一个数据结构。
Collection接口继承自**Iterable接口**，Iterable接口中定义了**iterator方法**返回**Iterator接口**（迭代器），Iterator接口为遍历各种类型的合集中的元素提供了一种统一的方法。

注意：
- 迭代器中remove()方法和next()一起配合使用，迭代器的初始指针指向第一个元素之前，需要先用next()，再用remove()。
- 使用foreach方法其实就是对iterator方法的封装，通过反编译可以看到。
```
package collection;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;

public class TestIterator {
  public static void main(String[] args) {
    Collection<String> collection = new ArrayList<>();
    collection.add("a");
    collection.add("b");
    collection.add("c");
    
    //iterator头指针指向集合头元素前面，hasNext判断有没有下一个元素，但是指针不会变
    //next方法移向下一个元素，并且返回指针移动后返回的值
    Iterator<String> iterator = collection.iterator();
    //注意collection接口中提供的remove方法和iterator中的remove方法不能同时出现，会产生并发修改错误
    System.out.println(collection);
    //foreach反编译后其实是对iterator方法的包装
    for(String content : collection) {
      System.out.println(content);
    } 
  }
}

```
反编译后的代码：
```
package collection;

import java.util.ArrayList;
import java.util.Iterator;

public class TestIterator {
	public static void main(String[] args) {
		ArrayList collection = new ArrayList();
		collection.add("a");
		collection.add("b");
		collection.add("c");
		Iterator iterator = collection.iterator();
		System.out.println(collection);

                //很明显的发现此处是用iterator包装的
		Iterator arg3 = collection.iterator();

		while (arg3.hasNext()) {
			String content = (String) arg3.next();
			System.out.println(content);
		}

	}
}
```
## 4. 线性表
List接口继承自Collection接口，**定义了一个用于顺序存储元素的合集**。可以使用他的两个具体类ArrayList或者LinkedList来创建一个线性表。
### 4.1 List接口中的通用方法
List接口定义了一个允许重复的有序合集。List接口增加了面向位置的操作，并且增加了一个能够双向遍历线性表的新线性表迭代器。
>&lt;interface>java.util.List&lt;E>
```
add(index: int, element: Object): boolean          //在指定的索引处增加一个新的元素
//备注：若果原来的位置有元素，那么将其及后面的所有元素索引加1
get(intdex: int): E                                //返回指定索引位置的元素
indexOf(element: Object): int                      //返回第一个匹配元素的索引
listIterator(): ListIterator<E>                    //返回针对该线性表元素的迭代器
listIterator(startIndex: int): ListIterator<E>     //返回从指定为止开始的迭代器
                                                   //此方法可以用来逆序迭代
remove(index: int): E                              //移除指定索引位置处的元素
set(intdex: int, element: Object): Object          //设置指定索引处的元素


```